## Задача 1

Архитектор ПО решил проконсультироваться у вас, какой тип БД 
лучше выбрать для хранения определенных данных.

Он вам предоставил следующие типы сущностей, которые нужно будет хранить в БД:

- Электронные чеки в json виде

Ответ: скорее всего здесь подойдет документо-ориентированная БД MongoDB. Такая БД как раз хранит данные в виде документов. Документы могут иметь ссылки на другие документы, метаданные, различные уровни доступа.

- Склады и автомобильные дороги для логистической компании

Ответ: в этом случае может подойти графовая NoSQL БД. В такой БД данные хранятся в виде узлов и ребер, что применимо к текущей сущности. Узлами могут выступать склады, а ребрами - дороги. На основании такого графа можно вычислять оптимальный и наикратчайший путь между складами, и на основании этого строить логистические маршруты.  

- Генеалогические деревья

Ответ: для такой задачи подойдет иерархическая БД. В такой БД данные организованы в древовидную структуру. Записи связаны друг с другом через отношения родитель-потомок. Родитель может иметь несколько детей. Такая структура подходит для решения поставленной задачи.

- Кэш идентификаторов клиентов с ограниченным временем жизни для движка аутенфикации

Ответ: подойдет БД вида "ключ-значение". В такой БД данные хранятся в виде пар "ключ-значение". Ключи и значения представляют собой все что угодно. У такой БД в качестве ключа будет идентификатор клиента, а значение - ключ аутентификации. При этом все данные хранятся в памяти в виде кэша.

- Отношения клиент-покупка для интернет-магазина

Ответ: вероятно подойдет документо-ориентированная БД MongoDB, она сможет хранить идентификаторы клиентов в виде индексов, записывать данные о покупках в виде документов, а также хранить данные о товарах в виде документов.

Выберите подходящие типы СУБД для каждой сущности и объясните свой выбор.

## Задача 2

Вы создали распределенное высоконагруженное приложение и хотите классифицировать его согласно 
CAP-теореме. Какой классификации по CAP-теореме соответствует ваша система, если 
(каждый пункт - это отдельная реализация вашей системы и для каждого пункта надо привести классификацию):

- Данные записываются на все узлы с задержкой до часа (асинхронная запись)

Ответ: скорее всего AP - так как данные записываются с задержкой, а значит в какой-то момент (до часа) возникает неконсистентность данных, поэтомухарактеристики C - consistency(согласованность) здесь нет.
По PACELC: PA/EL - нет consistency

- При сетевых сбоях, система может разделиться на 2 раздельных кластера

Ответ: так как система может разделиться на 2 раздельных кластера и продолжить функционировать - возможен случай когда данные будут не консистентны, но доступны, поэтому здесь есть снова AP 
По PACELC: PA/EC - при разделении, данные станут неконсистентыми, но доступными.

- Система может не прислать корректный ответ или сбросить соединение

Ответ: CP - так как нет A - availability. 
PACELC: PC/EC либо PC/EL

А согласно PACELC-теореме, как бы вы классифицировали данные реализации?

## Задача 3

Могут ли в одной системе сочетаться принципы BASE и ACID? Почему?

Ответ: принципы BASE и ACID не могут сочетаться в одной системе. Это обсуловлено тем, что это два противоположных подхода к проектированию СУБД.

Подход ACID позволяет строить высоконадежные системы, в которых информация всегда будет консистентна, то есть в ответах будут присутствовать только допустимые результаты. 

При подходе BASE - можно строить высокопроизводительные системы, однако за производительность придется платить надежностью: система может давать неверные ответы, может работать при частичной деградации узлов. Но при этом обеспечивается высокая производительность. 

## Задача 4

Вам дали задачу написать системное решение, основой которого бы послужили:

- фиксация некоторых значений с временем жизни
- реакция на истечение таймаута

Ответ: описание такого решения подходит под описание СУБД типа "ключ-значение", которая хранит данные в оперативной памяти и используется в качестве кэш-системы или брокера сообщений. Примерами решения такой задачи может служить СУБД Redis или Memcached. Для решения поставленной задачи, стоило бы рассмотреть вопрос о разворачивании данных СУБД.

Вы слышали о key-value хранилище, которое имеет механизм [Pub/Sub](https://habr.com/ru/post/278237/). 
Что это за система? Какие минусы выбора данной системы?

Ответ:
Механизм Pub/Sub - это шаблон передачи сообщений вида "издатель-подписчик". Обмен сообщениями в такой системе может происходить следующим образом:

Подписчик подписывается на сообщение, издатель создает и публикует сообщение, система отправляет сообщение всем подписчикам на него подписавшимся,подписчики принимают и обрабатывают сообщение.

Паттерн обмена сообщениями Pub/Sub достаточно сложный в реализации. Его необходимо правильно настроить и поддерживать. Такой паттерн обмена сообщениями не подходит для real-time или потокового трафика, например видео-конференций, голосвых вызовов и других. Эти сервисы требуют синхронной потоковой передачи сообщений между узлами.

Средством являющимся одновременно key-value БД и реализующим модель Pub/Sub выступает БД Redis, которая хранит данные типа «ключ — значение» и при этом предоставляет операции для реализации механизма обмена сообщениями Pub/Sub

---
