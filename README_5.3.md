---

## Задача 1

Сценарий выполения задачи:

- создайте свой репозиторий на https://hub.docker.com;
- выберете любой образ, который содержит веб-сервер Nginx;
- создайте свой fork образа;
- реализуйте функциональность:
запуск веб-сервера в фоне с индекс-страницей, содержащей HTML-код ниже:
```
<html>
<head>
Hey, Netology
</head>
<body>
<h1>I’m DevOps Engineer!</h1>
</body>
</html>
```
Опубликуйте созданный форк в своем репозитории и предоставьте ответ в виде ссылки на https://hub.docker.com/username_repo.

#Ответ 1

https://hub.docker.com/repository/docker/vitaly93/nginx - репозиторий с nginx 

Для проверки запускал такой командой: docker run --name nginx_test -d -p 8080:80 vitaly93/nginx:1.21.6

После этого можно сделать curl на указанные порты и увидеть, что сервер отвечает как ожидается:

vagrant@server1:~/docker_nginx$ curl localhost:8080
<html>
<head>
Hey, Netology
</head>
<body>
<h1>I’m DevOps Engineer!</h1>
</body>
</html>

## Задача 2

Посмотрите на сценарий ниже и ответьте на вопрос:
"Подходит ли в этом сценарии использование Docker контейнеров или лучше подойдет виртуальная машина, физическая машина? Может быть возможны разные варианты?"

Детально опишите и обоснуйте свой выбор.

--

Сценарий:

- Высоконагруженное монолитное java веб-приложение;
- Nodejs веб-приложение;
- Мобильное приложение c версиями для Android и iOS;
- Шина данных на базе Apache Kafka;
- Elasticsearch кластер для реализации логирования продуктивного веб-приложения - три ноды elasticsearch, два logstash и две ноды kibana;
- Мониторинг-стек на базе Prometheus и Grafana;
- MongoDB, как основное хранилище данных для java-приложения;
- Gitlab сервер для реализации CI/CD процессов и приватный (закрытый) Docker Registry.

#Ответ 2

- Высоконагруженное монолитное java веб-приложение - подойдет докер контейнер, это упростит перенос приложения и конфигурации на другой сервер в случае необходимости
- Nodejs веб-приложение - в контейнере докер по той же причине
- Мобильное приложение с версиями для Android и iOS - возможно удобнее будет использовать напрямую в виртуальной машине, так как приложения постоянно обновляются, дописываются, возможно это проще делать без контейнеризации
- Шина данных на базе Apache Kafka - подойдет контейнер докер, так как это что-то похожее на веб-сервер
- Elasticsearch кластер - лучше всего на отдельных ВМ, так как эти сервисы требуют прямой доступ к ресурсам хоста (запись на диск логов, их хранение), кроме этого кластером нужно управлять, как мне кажется это проще делать без контейнеризации
- Мониторинг стек на базе Prometheus и Grafana - лучше сделать на отдельных ВМ, так как требует настройки, управления, доступ к его компонентам, не очень удобно это делать через контейнеры
- MongoDB - БД стоит запускать на отдельной ВМ или сервере, так как любая база данных требовательна к ресурсам хоста, на мой взгляд лучше будет работать находясь вне контейнера
- Gitlab сервер и Docker Registry могут быть запущены в контейнерах для удобства их переноса на другие ВМ/хосты в случае необходимости.

## Задача 3

- Запустите первый контейнер из образа ***centos*** c любым тэгом в фоновом режиме, подключив папку ```/data``` из текущей рабочей директории на хостовой машине в ```/data``` контейнера;
- Запустите второй контейнер из образа ***debian*** в фоновом режиме, подключив папку ```/data``` из текущей рабочей директории на хостовой машине в ```/data``` контейнера;
- Подключитесь к первому контейнеру с помощью ```docker exec``` и создайте текстовый файл любого содержания в ```/data```;
- Добавьте еще один файл в папку ```/data``` на хостовой машине;
- Подключитесь во второй контейнер и отобразите листинг и содержание файлов в ```/data``` контейнера.

#Ответ 3
```
- docker run -it -v /data:/data --name centos_data -d centos:latest
- docker run -it -v /data:/data --name debian_data -d debian:latest
- sudo docker exec -it centos_data vi /data/text
- vagrant@server1:~/docker_nginx/data$ docker exec -it debian_data ls -laF /data
total 12
drwxr-xr-x 2 root root 4096 Feb 15 22:14 ./
drwxr-xr-x 1 root root 4096 Feb 15 22:07 ../
-rw-r--r-- 1 root root   12 Feb 15 22:14 text
vagrant@server1:~/docker_nginx/data$
vagrant@server1:~/docker_nginx/data$
vagrant@server1:~/docker_nginx/data$ docker exec -it debian_data cat /data/text
random text
```
## Задача 4 (*)

Воспроизвести практическую часть лекции самостоятельно.

Соберите Docker образ с Ansible, загрузите на Docker Hub и пришлите ссылку вместе с остальными ответами к задачам.

#Ответ 4

https://hub.docker.com/repository/docker/vitaly93/ansible
