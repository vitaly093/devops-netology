## Задача 1

Опишите кратко, как вы поняли: в чем основное отличие полной (аппаратной) виртуализации, паравиртуализации и виртуализации на основе ОС.

#Ответ 1

Полная виртуализация - когда между физической машиной и гипервизором нет других слоев. Такая виртуализация позволяет создавать самостоятельные виртуальные машины на гипервизоре, которые имеют доступ ресурсам физического сервера. Такие серверы можно группировать в кластеры и собирать отказоустойчивые решения. Пример такой виртуализации - VMware ESXi, Hyper-V, KVM

Паравиртуализация - когда между физическим сервером и виртуальной машиной еще есть слой родительской операционной системы. Такой вариант виртуализации предоставляет меньше возможностей, но позволяет собирать тестовую среду прямо на рабочих станциях или персональных ПК. Например Oracle Virtual Box, Parallels.

Виртуализация на основе ОС - когда объекты виртуализации разделяют ресурсы одной ОС. Например контейнеры docker и другие.

## Задача 2

Выберите один из вариантов использования организации физических серверов, в зависимости от условий использования.

Организация серверов:
- физические сервера,
- паравиртуализация,
- виртуализация уровня ОС.

Условия использования:
- Высоконагруженная база данных, чувствительная к отказу.
- Различные web-приложения.
- Windows системы для использования бухгалтерским отделом.
- Системы, выполняющие высокопроизводительные расчеты на GPU.

Опишите, почему вы выбрали к каждому целевому использованию такую организацию.

#Ответ:

 - Высоконагруженная база данных, чувствительная к отказу - физические сервера, так как во первых нужна наиболее высокая производительность, во вторых возможность построения отказоустойчивых кластеров, работающих в режиме HA (high availability).

- Различные web-приложения - можно использовать виртуализацию уровня ОС, поднимать приложения внутри контейнеров, так как web-приложения не так требовательны к ресурсам как базы данных, но запуск в контейнерах может увеличить гибкость работы этих приложений.

- Windows системы для использования бухгалтерским отделом - физические сервера с Hyper-V, так как требуется поддержка приложений 1С, это достаточно важная часть инфраструктуры, и лучше всего если позволяет бюджет, собрать небольшой кластер из Hyper-V гипервизоров с windows server виртуальными машинамии поддерживать его работу.

- Системы, выполняющие высокопроизводительные расчеты на GPU - физические сервера, так как требуется высокая производительность ВМ, плюс необходимость в серверах, поддерживающих установку GPU (GPU-ready системы).

## Задача 3

Выберите подходящую систему управления виртуализацией для предложенного сценария. Детально опишите ваш выбор.

Сценарии:

1. 100 виртуальных машин на базе Linux и Windows, общие задачи, нет особых требований. Преимущественно Windows based инфраструктура, требуется реализация программных балансировщиков нагрузки, репликации данных и автоматизированного механизма создания резервных копий.
2. Требуется наиболее производительное бесплатное open source решение для виртуализации небольшой (20-30 серверов) инфраструктуры на базе Linux и Windows виртуальных машин.
3. Необходимо бесплатное, максимально совместимое и производительное решение для виртуализации Windows инфраструктуры.
4. Необходимо рабочее окружение для тестирования программного продукта на нескольких дистрибутивах Linux.
#Ответ

1. При наличии средств - лучше всего подойдет VMware vsphere + ESXi + veeam B&R. В таком варианте есть возможность организовать отказоустойчивые кластеры, управление этими кластерами, а также организацию бэкапов.

2. В данном случае подойдет PROXMOX + KVM, так как решение бесплатное, есть возможность развертывания Windows ВМ, и работа с макисмальной производительностью для Linux ВМ.

3. Возможно подойдет паравиртуализация на основе windows server + встроенный hyper-v гипервизор.

4. Подойдет паравиртуализация с использованием virtual box и нескольких ВМ с разными версиями linux ОС. Данное решение простое, бесплатное, не требует особых знаний.

## Задача 4

Опишите возможные проблемы и недостатки гетерогенной среды виртуализации (использования нескольких систем управления виртуализацией одновременно) и что необходимо сделать для минимизации этих рисков и проблем. Если бы у вас был выбор, то создавали бы вы гетерогенную среду или нет? Мотивируйте ваш ответ примерами.

#Ответ

Проблемы гетерогенной среды - необходимость развертывания обслуживания нескольких систем управления виртуализацией, для этого нужны разные навыки/умения, соответственно потребуется большое количество обслуживающего персонала (инженеров с разными навыками), такой средой сложнее управлять и поддерживать, каждая из сред управления виртуализацией может иметь разный набор возможностей и они могут быть несовместимы между собой. 
Однако, могут быть ситуации, когда это необходимо, например основной кластер виртуализации построен на vmware vsphere для поддержки основного продукта компании, и еще может быть необходим кластер на hyper-v для нужд бухгалтерии и рабочих мест сотрудников.

Я бы старался избегать таких ситуаций, когда требуется использовать сразу несколько систем управления виртуализацией, но однозначно нельзя сказать, что это удастся сделать. 
